// Rich text content styles
.rich-text-content {
  // Add consistent spacing
  margin-bottom: 2rem;
  padding: 1rem 0;

  // Add separator line
  &:not(:last-child) {
    border-bottom: 1px solid rgba(220, 184, 122, 0.3);
    position: relative;
    
    &::after {
      content: '';
      position: absolute;
      bottom: -1px;
      left: 0;
      width: 100px;
      height: 2px;
      background: linear-gradient(to right, #DCB87A, rgba(220, 184, 122, 0.3));
    }
  }

  ::ng-deep {
    // Apply site font while preserving all other styles
    *, *::before, *::after {
      font-family: var(--font-family, 'Cairo'), sans-serif !important;
    }

    // Override specific elements that might have different fonts
    h1, h2, h3, h4, h5, h6,
    p, span, div, li, a,
    blockquote, td, th,
    label, input, textarea,
    button, .btn {
      font-family: var(--font-family, 'Cairo'), sans-serif !important;
    }

    // Keep monospace font for code blocks only
    pre, code {
      font-family: monospace !important;
    }

    // Headings
    h1, h2, h3, h4, h5, h6 {
      color: var(--heading-color, #333);
      font-weight: 600;
      line-height: 1.3;
      margin-bottom: 1rem;
      text-transform: capitalize;

      &:not([style*="color"]) {
        color: var(--heading-color, #333);
      }
    }

    // Buttons
    button,
    .btn,
    a.btn,
    input[type="submit"],
    input[type="button"] {
      &::first-letter {
        text-transform: uppercase !important;
      }
      text-transform: lowercase !important;
    }

    // Paragraphs
    p {
      margin-bottom: 1rem;
      line-height: 1.6;
      
      &:not([style*="color"]) {
        color: var(--text-color, #666);
      }
    }

    // Lists
    ul, ol {
      margin-bottom: 1rem;
      padding-left: 2rem;

      li {
        margin-bottom: 0.5rem;
        
        &:not([style*="color"]) {
          color: var(--text-color, #666);
        }
      }
    }

    // Links
    a {
      &:not([style*="color"]) {
        color: #DCB87A;
      }
      
      &:hover {
        text-decoration: underline;
        opacity: 0.9;
      }
    }

    // Images
    img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
      margin: 1rem 0;

      &[style*="float: left"] {
        margin-right: 1rem;
        margin-bottom: 0.5rem;
      }

      &[style*="float: right"] {
        margin-left: 1rem;
        margin-bottom: 0.5rem;
      }
    }

    // Blockquotes
    blockquote {
      margin: 1.5rem 0;
      padding: 1rem 1.5rem;
      border-left: 4px solid #DCB87A;
      background-color: rgba(220, 184, 122, 0.1);
      font-style: italic;

      &:not([style*="color"]) {
        color: var(--text-color, #666);
      }

      p:last-child {
        margin-bottom: 0;
      }
    }

    // Tables
    table {
      width: 100%;
      margin-bottom: 1.5rem;
      border-collapse: collapse;

      th, td {
        padding: 0.75rem;
        border: 1px solid #dee2e6;

        &:not([style*="color"]) {
          color: var(--text-color, #666);
        }
      }

      th {
        background-color: rgba(220, 184, 122, 0.1);
        font-weight: 600;
        
        &:not([style*="color"]) {
          color: var(--heading-color, #333);
        }
      }

      tr:nth-child(even) {
        background-color: rgba(0, 0, 0, 0.02);
      }
    }

    // Text alignment
    [style*="text-align: center"] {
      text-align: center !important;
    }

    [style*="text-align: right"] {
      text-align: right !important;
    }

    [style*="text-align: left"] {
      text-align: left !important;
    }

    // Text decoration
    [style*="text-decoration: underline"] {
      text-decoration: underline !important;
    }

    // Font styles
    strong, b {
      font-weight: 600;
    }

    em, i {
      font-style: italic;
    }

    // Background colors
    [style*="background-color"] {
      padding: 0.2em 0.4em;
      border-radius: 4px;
    }

    // Preserve font sizes but ensure they're not too extreme
    [style*="font-size"] {
      font-size: clamp(0.75rem, attr(style), 2.5rem) !important;
    }
  }
}

// Responsive adjustments
@media (max-width: 768px) {
  .rich-text-content {
    margin-bottom: 1.5rem;
    padding: 0.75rem 0;
    
    &:not(:last-child)::after {
      width: 60px;
    }
  }
}
